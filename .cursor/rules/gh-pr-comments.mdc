# .cursor/rules/gh-pr-comments.mdc
---
alwaysApply: false
---
# GitHub CLI - Pull Request Comments & Review Context

This project uses GitHub CLI to fetch and analyze pull request review comments with detailed context.

## Getting Review Comments with Line Numbers & Resolution Status

### Primary Command (GraphQL - Full Featured)

Use GraphQL API to get complete comment context including resolution status and line numbers:

```bash
gh api graphql -f query='
  query($owner: String!, $repo: String!, $prNumber: Int!, $cursor: String) {
    repository(owner: $owner, name: $repo) {
      pullRequest(number: $prNumber) {
        reviewThreads(first: 100, after: $cursor) {
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            isResolved
            isOutdated
            comments(first: 20) {
              nodes {
                author {
                  login
                }
                body
                path
                line
                startLine
                originalLine
                originalStartLine
                diffHunk
                createdAt
                updatedAt
              }
            }
          }
        }
      }
    }
  }
' -f owner=OWNER -f repo=REPO -F prNumber=PR_NUMBER
