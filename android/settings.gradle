pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

// Redirect classpath dependency to the local composite build
includeBuild('../node_modules/@react-native/gradle-plugin') {
    dependencySubstitution {
        substitute(module('com.facebook.react:react-native-gradle-plugin'))
            .using(project(':react-native-gradle-plugin'))
    }
}

include ':app'
apply from: file("../node_modules/@react-native-community/cli-platform-android/native_modules.gradle"); applyNativeModulesSettingsGradle(settings)

// Use static path resolution instead of Node.js execution
apply from: file("../node_modules/expo/scripts/autolinking.gradle")
useExpoModules()

// Ensure proper module resolution
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.PREFER_PROJECT)
    repositories {
        google()
        mavenCentral()
        maven { url "https://jitpack.io" }
        maven { url "https://maven.google.com" }
    }
}
